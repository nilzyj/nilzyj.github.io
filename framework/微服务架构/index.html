<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>微服务架构 | My New Hugo Site</title>
<meta name="keywords" content="架构" />
<meta name="description" content="支撑服务：负载均衡、网关、服务发现、集中配置、容错限流、认证授权、日志聚合、监控告警、灰度发布
平台服务PaaS：发布系统、集群资源调度、镜像治理、资源治理
基础设施LaaS：计算、网格、存储、NOC监控、安全
微服务可分为五个监控点：日志监控、Metrics 监控、健康检查、调用链检查、告警系统
调用链监控：Zipkin（Twitter团队）、Pinpoint（韩国）、SkyWalking（国内）、CAT（大众点评）、
   配置中心 百度配置中心Disconf spring cloud config Apollo Nacos        apollo的配置中心规模比较大，本地应用会有响应的配置中心客户端，可以定时同步配置中心里的配置。如果配置中心怠机，会使用缓存来进行配置。                             通讯方式 RPC REST     耦合性 强耦合 松散耦合   消息协议 TCP HTTP   通讯协议 二进制 文本XML，json   性能 高 低于RPC   接口契约IDL thrift, protobuf, IdL Swagger   客户端 强类型客户端，一般自动生成 一般HTTP可访问，生成强类型客户端，多语言支持好   案例 Dubbo, Dubbox, motan, tars, grpc, thrift spring boot, tax-rs, dropwizard   开发者友好 客户端比较全面，二进制消息不能读 可读消息   对外开放 一般需要转成REST/文本协议 可直接对外开放       监控预警 监控内容     端用户体验监控 性能、返回码、城市、地区、运营商、版本、系统等   业务监控 核心指标监控、登录注册、下单、支付等   应用层监控 url、service、sql、cache可用率、响应时间、qps等   系统层监控（物理机、虚拟机、OS） cpu、内存、网络、硬盘等   基础设施监控（网络、交换机） 网络流量、丢包、错包、连接数等    监控架构">
<meta name="author" content="">
<link rel="canonical" href="http://example.org/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://example.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://example.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://example.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://example.org/apple-touch-icon.png">
<link rel="mask-icon" href="http://example.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.92.2" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="微服务架构" />
<meta property="og:description" content="支撑服务：负载均衡、网关、服务发现、集中配置、容错限流、认证授权、日志聚合、监控告警、灰度发布
平台服务PaaS：发布系统、集群资源调度、镜像治理、资源治理
基础设施LaaS：计算、网格、存储、NOC监控、安全
微服务可分为五个监控点：日志监控、Metrics 监控、健康检查、调用链检查、告警系统
调用链监控：Zipkin（Twitter团队）、Pinpoint（韩国）、SkyWalking（国内）、CAT（大众点评）、
   配置中心 百度配置中心Disconf spring cloud config Apollo Nacos        apollo的配置中心规模比较大，本地应用会有响应的配置中心客户端，可以定时同步配置中心里的配置。如果配置中心怠机，会使用缓存来进行配置。                             通讯方式 RPC REST     耦合性 强耦合 松散耦合   消息协议 TCP HTTP   通讯协议 二进制 文本XML，json   性能 高 低于RPC   接口契约IDL thrift, protobuf, IdL Swagger   客户端 强类型客户端，一般自动生成 一般HTTP可访问，生成强类型客户端，多语言支持好   案例 Dubbo, Dubbox, motan, tars, grpc, thrift spring boot, tax-rs, dropwizard   开发者友好 客户端比较全面，二进制消息不能读 可读消息   对外开放 一般需要转成REST/文本协议 可直接对外开放       监控预警 监控内容     端用户体验监控 性能、返回码、城市、地区、运营商、版本、系统等   业务监控 核心指标监控、登录注册、下单、支付等   应用层监控 url、service、sql、cache可用率、响应时间、qps等   系统层监控（物理机、虚拟机、OS） cpu、内存、网络、硬盘等   基础设施监控（网络、交换机） 网络流量、丢包、错包、连接数等    监控架构" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/" /><meta property="article:section" content="framework" />
<meta property="article:published_time" content="2021-06-21T17:29:10&#43;00:00" />
<meta property="article:modified_time" content="2021-06-21T17:29:10&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="微服务架构"/>
<meta name="twitter:description" content="支撑服务：负载均衡、网关、服务发现、集中配置、容错限流、认证授权、日志聚合、监控告警、灰度发布
平台服务PaaS：发布系统、集群资源调度、镜像治理、资源治理
基础设施LaaS：计算、网格、存储、NOC监控、安全
微服务可分为五个监控点：日志监控、Metrics 监控、健康检查、调用链检查、告警系统
调用链监控：Zipkin（Twitter团队）、Pinpoint（韩国）、SkyWalking（国内）、CAT（大众点评）、
   配置中心 百度配置中心Disconf spring cloud config Apollo Nacos        apollo的配置中心规模比较大，本地应用会有响应的配置中心客户端，可以定时同步配置中心里的配置。如果配置中心怠机，会使用缓存来进行配置。                             通讯方式 RPC REST     耦合性 强耦合 松散耦合   消息协议 TCP HTTP   通讯协议 二进制 文本XML，json   性能 高 低于RPC   接口契约IDL thrift, protobuf, IdL Swagger   客户端 强类型客户端，一般自动生成 一般HTTP可访问，生成强类型客户端，多语言支持好   案例 Dubbo, Dubbox, motan, tars, grpc, thrift spring boot, tax-rs, dropwizard   开发者友好 客户端比较全面，二进制消息不能读 可读消息   对外开放 一般需要转成REST/文本协议 可直接对外开放       监控预警 监控内容     端用户体验监控 性能、返回码、城市、地区、运营商、版本、系统等   业务监控 核心指标监控、登录注册、下单、支付等   应用层监控 url、service、sql、cache可用率、响应时间、qps等   系统层监控（物理机、虚拟机、OS） cpu、内存、网络、硬盘等   基础设施监控（网络、交换机） 网络流量、丢包、错包、连接数等    监控架构"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Frameworks",
      "item": "http://example.org/framework/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "微服务架构",
      "item": "http://example.org/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "微服务架构",
  "name": "微服务架构",
  "description": "支撑服务：负载均衡、网关、服务发现、集中配置、容错限流、认证授权、日志聚合、监控告警、灰度发布\n平台服务PaaS：发布系统、集群资源调度、镜像治理、资源治理\n基础设施LaaS：计算、网格、存储、NOC监控、安全\n微服务可分为五个监控点：日志监控、Metrics 监控、健康检查、调用链检查、告警系统\n调用链监控：Zipkin（Twitter团队）、Pinpoint（韩国）、SkyWalking（国内）、CAT（大众点评）、\n   配置中心 百度配置中心Disconf spring cloud config Apollo Nacos        apollo的配置中心规模比较大，本地应用会有响应的配置中心客户端，可以定时同步配置中心里的配置。如果配置中心怠机，会使用缓存来进行配置。                             通讯方式 RPC REST     耦合性 强耦合 松散耦合   消息协议 TCP HTTP   通讯协议 二进制 文本XML，json   性能 高 低于RPC   接口契约IDL thrift, protobuf, IdL Swagger   客户端 强类型客户端，一般自动生成 一般HTTP可访问，生成强类型客户端，多语言支持好   案例 Dubbo, Dubbox, motan, tars, grpc, thrift spring boot, tax-rs, dropwizard   开发者友好 客户端比较全面，二进制消息不能读 可读消息   对外开放 一般需要转成REST/文本协议 可直接对外开放       监控预警 监控内容     端用户体验监控 性能、返回码、城市、地区、运营商、版本、系统等   业务监控 核心指标监控、登录注册、下单、支付等   应用层监控 url、service、sql、cache可用率、响应时间、qps等   系统层监控（物理机、虚拟机、OS） cpu、内存、网络、硬盘等   基础设施监控（网络、交换机） 网络流量、丢包、错包、连接数等    监控架构",
  "keywords": [
    "架构"
  ],
  "articleBody": "支撑服务：负载均衡、网关、服务发现、集中配置、容错限流、认证授权、日志聚合、监控告警、灰度发布\n平台服务PaaS：发布系统、集群资源调度、镜像治理、资源治理\n基础设施LaaS：计算、网格、存储、NOC监控、安全\n微服务可分为五个监控点：日志监控、Metrics 监控、健康检查、调用链检查、告警系统\n调用链监控：Zipkin（Twitter团队）、Pinpoint（韩国）、SkyWalking（国内）、CAT（大众点评）、\n   配置中心 百度配置中心Disconf spring cloud config Apollo Nacos        apollo的配置中心规模比较大，本地应用会有响应的配置中心客户端，可以定时同步配置中心里的配置。如果配置中心怠机，会使用缓存来进行配置。                             通讯方式 RPC REST     耦合性 强耦合 松散耦合   消息协议 TCP HTTP   通讯协议 二进制 文本XML，json   性能 高 低于RPC   接口契约IDL thrift, protobuf, IdL Swagger   客户端 强类型客户端，一般自动生成 一般HTTP可访问，生成强类型客户端，多语言支持好   案例 Dubbo, Dubbox, motan, tars, grpc, thrift spring boot, tax-rs, dropwizard   开发者友好 客户端比较全面，二进制消息不能读 可读消息   对外开放 一般需要转成REST/文本协议 可直接对外开放       监控预警 监控内容     端用户体验监控 性能、返回码、城市、地区、运营商、版本、系统等   业务监控 核心指标监控、登录注册、下单、支付等   应用层监控 url、service、sql、cache可用率、响应时间、qps等   系统层监控（物理机、虚拟机、OS） cpu、内存、网络、硬盘等   基础设施监控（网络、交换机） 网络流量、丢包、错包、连接数等    监控架构\n   调用链监控 cat zipkin pinpoint skywalking     依赖 Java 6、7、8Maven 3.2.3+mysql 5.6Linux 2.6及以上 Java 6、7、8Maven 3.2+RabbitMQ Java 6、7、8Maven 3+Hbase 0.94+ Java 6、7、8Maven 3+nodejszookeeperelasticsearch   实现方式 代理埋点（拦截器、注解、过滤器等） 拦截请求，发送（HTTP、mq）数据至zipking服务器 java探针，字节码增强 java探针，字节码增强   存储选择 mysql、hdfs in-memory，mysql，Cassandra，Elasticsearch HBase elasticsearch，H2   通信方式 - Http、MQ thrift grpc   MQ监控 不支持 不支持 不支持 支持（RocketMQ，kafka）   全局调用统计 支持 不支持 支持 支持   trace 不支持 支持 不支持 支持   报警 支持 不支持 支持 支持   JVM监控 不支持 不支持 支持 支持   star 4.5k 7.9k 5.6k 2.8k   优点 功能完善 spring-cloud-sleuth可以很好的集成zipkin，代码无侵入，集成非常简单，社区更加活跃，对外提供有query接口，更加容易二次开发 完全无侵入，仅需修改启动方式，界面完善，功能细致 完全无侵入，界面完善，支持应用拓扑图及单个调用链查询。功能比较完善   缺点 * 代码侵入性强，需要埋点* 文档比较混乱，文档与发布版本符合性较低，需要依赖点评私服 * 默认使用的是Http请求向zipkin上报信息，耗性能* 跟sleuth结合可以使用RabbitMQ的方式异步来做，增加了复杂度、需要引入RabbitMQ* 数据分析比较简单 * 不支持查询单个调用链，对外表现的是整个应用的调用生态* 二次开发难度较高 * 3.2版本之前BUG较多，网上反映兼容性较差，3.2新版本的反映情况较少* 依赖较多   文档 网上资料较少，仅官网提供的文档，比较乱 文档完善 文档完善 文档完善   开发者 大众点评 twitter naver（韩国） 吴晟（华为开发者），目前已加入Apache孵化器   使用公司 大众点评、携程、陆金所、同程旅游、猎聘网 twitter naver 华为软件开发云、天源迪科、当当网、京东金融       RPC框架 Dubbo Montan rpcx gRPC Thrift     开发语言 Java Java Go 跨语言 跨语言   分布式（服务治理） 支持 支持 支持 不支持 不支持   多序列化框架支持 支持 支持（Hessian2、Json、可扩展） 支持 只支持protobuf 不支持（thrift格式）   多种注册中心 支持 支持 支持 不支持 不支持   管理中心 支持 支持 支持 不支持 不支持   跨编程语言 不支持 不支持（支持php client和C server） 不支持 支持 支持   开发者 阿里巴巴 新浪微博 Go语言生态圈的Dubbo Google Apache       MQ消息 ActiveMQ RabbitMQ Kafka RocketMQ ZeroMQ     开发语言 Java Erlang Scala Java C   开发者 Apache  LinkedIn 阿里巴巴    支持的协议 OpenWire、STOMP、REST、XMPP、AMQP AMQP 自定义（基于TCP） 自定义 TCP、UDP   消息存储 内存、磁盘、数据库。支持少量堆积。 内存、磁盘。支持少量堆积。 内存、磁盘、数据库。支持大量堆积 磁盘。支持大量堆积。 消息发送端的内存或者磁盘中。不支持持久化。   消息事务 支持 支持。客户端将信道设置为事务模式，只有当消息被RabbitMQ接收，事务才能提交成功，否则在捕获异常后进行回滚。使用事务会使得性能有所下降 支持 支持 不支持       分布式缓存 Redis memcache （jetcache）               本地缓存 Guava Ehcache              搜索 solr Elasticsearch              分布式数据框架 cobar Mycat tsharding tddl sharding-jdbc dbsplit                  分布式协调服务 zookeeper             分布式任务调度框架 Elastic-Job xxl-job TBSchedule Saturn                大数据 Hbase Spark Hadoop Hive                监控         度量指标收集 Metrics spring-actuator（Micrometer） jmxtrans    数据收集 Prometheus Graphite Influxdb Zabbix   数据展示 grafana          分布式事务 Spring Cloud Alibaba Seata             消息总线 spring cloud bus             分布式事务 spring cloud seata          ",
  "wordCount" : "305",
  "inLanguage": "en",
  "datePublished": "2021-06-21T17:29:10Z",
  "dateModified": "2021-06-21T17:29:10Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://example.org/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "My New Hugo Site",
    "logo": {
      "@type": "ImageObject",
      "url": "http://example.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://example.org/" accesskey="h" title="My New Hugo Site (Alt + H)">My New Hugo Site</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      微服务架构
    </h1>
    <div class="post-meta"><span title='2021-06-21 17:29:10 +0000 UTC'>June 21, 2021</span>

</div>
  </header> 
  <div class="post-content"><p>支撑服务：负载均衡、网关、服务发现、集中配置、容错限流、认证授权、日志聚合、监控告警、灰度发布</p>
<p>平台服务PaaS：发布系统、集群资源调度、镜像治理、资源治理</p>
<p>基础设施LaaS：计算、网格、存储、NOC监控、安全</p>
<p>微服务可分为五个监控点：日志监控、Metrics 监控、健康检查、调用链检查、告警系统</p>
<p>调用链监控：Zipkin（Twitter团队）、Pinpoint（韩国）、SkyWalking（国内）、CAT（大众点评）、</p>
<table>
<thead>
<tr>
<th style="text-align:left">配置中心</th>
<th>百度配置中心Disconf</th>
<th>spring cloud config</th>
<th>Apollo</th>
<th>Nacos</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td>apollo的配置中心规模比较大，本地应用会有响应的配置中心客户端，可以定时同步配置中心里的配置。如果配置中心怠机，会使用缓存来进行配置。</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>通讯方式</th>
<th>RPC</th>
<th>REST</th>
</tr>
</thead>
<tbody>
<tr>
<td>耦合性</td>
<td>强耦合</td>
<td>松散耦合</td>
</tr>
<tr>
<td>消息协议</td>
<td>TCP</td>
<td>HTTP</td>
</tr>
<tr>
<td>通讯协议</td>
<td>二进制</td>
<td>文本XML，json</td>
</tr>
<tr>
<td>性能</td>
<td>高</td>
<td>低于RPC</td>
</tr>
<tr>
<td>接口契约IDL</td>
<td>thrift, protobuf, IdL</td>
<td>Swagger</td>
</tr>
<tr>
<td>客户端</td>
<td>强类型客户端，一般自动生成</td>
<td>一般HTTP可访问，生成强类型客户端，多语言支持好</td>
</tr>
<tr>
<td>案例</td>
<td>Dubbo, Dubbox, motan, tars, grpc, thrift</td>
<td>spring boot, tax-rs, dropwizard</td>
</tr>
<tr>
<td>开发者友好</td>
<td>客户端比较全面，二进制消息不能读</td>
<td>可读消息</td>
</tr>
<tr>
<td>对外开放</td>
<td>一般需要转成REST/文本协议</td>
<td>可直接对外开放</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>监控预警</th>
<th>监控内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>端用户体验监控</td>
<td>性能、返回码、城市、地区、运营商、版本、系统等</td>
</tr>
<tr>
<td>业务监控</td>
<td>核心指标监控、登录注册、下单、支付等</td>
</tr>
<tr>
<td>应用层监控</td>
<td>url、service、sql、cache可用率、响应时间、qps等</td>
</tr>
<tr>
<td>系统层监控（物理机、虚拟机、OS）</td>
<td>cpu、内存、网络、硬盘等</td>
</tr>
<tr>
<td>基础设施监控（网络、交换机）</td>
<td>网络流量、丢包、错包、连接数等</td>
</tr>
</tbody>
</table>
<p>监控架构</p>
<p><img loading="lazy" src="C:%5cUsers%5cdim%5cDownloads%5c%e6%9c%aa%e5%91%bd%e5%90%8d%e6%96%87%e4%bb%b6.png" alt="监控架构"  />
</p>
<table>
<thead>
<tr>
<th>调用链监控</th>
<th>cat</th>
<th>zipkin</th>
<th>pinpoint</th>
<th>skywalking</th>
</tr>
</thead>
<tbody>
<tr>
<td>依赖</td>
<td>Java 6、7、8<!-- raw HTML omitted -->Maven 3.2.3+<!-- raw HTML omitted -->mysql 5.6<!-- raw HTML omitted -->Linux 2.6及以上</td>
<td>Java 6、7、8<!-- raw HTML omitted -->Maven 3.2+<!-- raw HTML omitted -->RabbitMQ</td>
<td>Java 6、7、8<!-- raw HTML omitted -->Maven 3+<!-- raw HTML omitted -->Hbase 0.94+</td>
<td>Java 6、7、8<!-- raw HTML omitted -->Maven 3+<!-- raw HTML omitted -->nodejs<!-- raw HTML omitted -->zookeeper<!-- raw HTML omitted -->elasticsearch</td>
</tr>
<tr>
<td>实现方式</td>
<td>代理埋点（拦截器、注解、过滤器等）</td>
<td>拦截请求，发送（HTTP、mq）数据至zipking服务器</td>
<td>java探针，字节码增强</td>
<td>java探针，字节码增强</td>
</tr>
<tr>
<td>存储选择</td>
<td>mysql、hdfs</td>
<td>in-memory，mysql，Cassandra，Elasticsearch</td>
<td>HBase</td>
<td>elasticsearch，H2</td>
</tr>
<tr>
<td>通信方式</td>
<td>-</td>
<td>Http、MQ</td>
<td>thrift</td>
<td>grpc</td>
</tr>
<tr>
<td>MQ监控</td>
<td>不支持</td>
<td>不支持</td>
<td>不支持</td>
<td>支持（RocketMQ，kafka）</td>
</tr>
<tr>
<td>全局调用统计</td>
<td>支持</td>
<td>不支持</td>
<td>支持</td>
<td>支持</td>
</tr>
<tr>
<td>trace</td>
<td>不支持</td>
<td>支持</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>报警</td>
<td>支持</td>
<td>不支持</td>
<td>支持</td>
<td>支持</td>
</tr>
<tr>
<td>JVM监控</td>
<td>不支持</td>
<td>不支持</td>
<td>支持</td>
<td>支持</td>
</tr>
<tr>
<td>star</td>
<td>4.5k</td>
<td>7.9k</td>
<td>5.6k</td>
<td>2.8k</td>
</tr>
<tr>
<td>优点</td>
<td>功能完善</td>
<td>spring-cloud-sleuth可以很好的集成zipkin，代码无侵入，集成非常简单，社区更加活跃，对外提供有query接口，更加容易二次开发</td>
<td>完全无侵入，仅需修改启动方式，界面完善，功能细致</td>
<td>完全无侵入，界面完善，支持应用拓扑图及单个调用链查询。功能比较完善</td>
</tr>
<tr>
<td>缺点</td>
<td>* 代码侵入性强，需要埋点<!-- raw HTML omitted -->* 文档比较混乱，文档与发布版本符合性较低，需要依赖点评私服</td>
<td>* 默认使用的是Http请求向zipkin上报信息，耗性能<!-- raw HTML omitted -->* 跟sleuth结合可以使用RabbitMQ的方式异步来做，增加了复杂度、需要引入RabbitMQ<!-- raw HTML omitted -->* 数据分析比较简单</td>
<td>* 不支持查询单个调用链，对外表现的是整个应用的调用生态<!-- raw HTML omitted -->* 二次开发难度较高</td>
<td>* 3.2版本之前BUG较多，网上反映兼容性较差，3.2新版本的反映情况较少<!-- raw HTML omitted -->* 依赖较多</td>
</tr>
<tr>
<td>文档</td>
<td>网上资料较少，仅官网提供的文档，比较乱</td>
<td>文档完善</td>
<td>文档完善</td>
<td>文档完善</td>
</tr>
<tr>
<td>开发者</td>
<td>大众点评</td>
<td>twitter</td>
<td>naver（韩国）</td>
<td>吴晟（华为开发者），目前已加入Apache孵化器</td>
</tr>
<tr>
<td>使用公司</td>
<td>大众点评、携程、陆金所、同程旅游、猎聘网</td>
<td>twitter</td>
<td>naver</td>
<td>华为软件开发云、天源迪科、当当网、京东金融</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>RPC框架</th>
<th>Dubbo</th>
<th>Montan</th>
<th>rpcx</th>
<th>gRPC</th>
<th>Thrift</th>
</tr>
</thead>
<tbody>
<tr>
<td>开发语言</td>
<td>Java</td>
<td>Java</td>
<td>Go</td>
<td>跨语言</td>
<td>跨语言</td>
</tr>
<tr>
<td>分布式（服务治理）</td>
<td>支持</td>
<td>支持</td>
<td>支持</td>
<td>不支持</td>
<td>不支持</td>
</tr>
<tr>
<td>多序列化框架支持</td>
<td>支持</td>
<td>支持（Hessian2、Json、可扩展）</td>
<td>支持</td>
<td>只支持protobuf</td>
<td>不支持（thrift格式）</td>
</tr>
<tr>
<td>多种注册中心</td>
<td>支持</td>
<td>支持</td>
<td>支持</td>
<td>不支持</td>
<td>不支持</td>
</tr>
<tr>
<td>管理中心</td>
<td>支持</td>
<td>支持</td>
<td>支持</td>
<td>不支持</td>
<td>不支持</td>
</tr>
<tr>
<td>跨编程语言</td>
<td>不支持</td>
<td>不支持（支持php client和C server）</td>
<td>不支持</td>
<td>支持</td>
<td>支持</td>
</tr>
<tr>
<td>开发者</td>
<td>阿里巴巴</td>
<td>新浪微博</td>
<td>Go语言生态圈的Dubbo</td>
<td>Google</td>
<td>Apache</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>MQ消息</th>
<th>ActiveMQ</th>
<th>RabbitMQ</th>
<th>Kafka</th>
<th>RocketMQ</th>
<th>ZeroMQ</th>
</tr>
</thead>
<tbody>
<tr>
<td>开发语言</td>
<td>Java</td>
<td>Erlang</td>
<td>Scala</td>
<td>Java</td>
<td>C</td>
</tr>
<tr>
<td>开发者</td>
<td>Apache</td>
<td></td>
<td>LinkedIn</td>
<td>阿里巴巴</td>
<td></td>
</tr>
<tr>
<td>支持的协议</td>
<td>OpenWire、STOMP、REST、XMPP、AMQP</td>
<td>AMQP</td>
<td>自定义（基于TCP）</td>
<td>自定义</td>
<td>TCP、UDP</td>
</tr>
<tr>
<td>消息存储</td>
<td>内存、磁盘、数据库。支持少量堆积。</td>
<td>内存、磁盘。支持少量堆积。</td>
<td>内存、磁盘、数据库。支持大量堆积</td>
<td>磁盘。支持大量堆积。</td>
<td>消息发送端的内存或者磁盘中。不支持持久化。</td>
</tr>
<tr>
<td>消息事务</td>
<td>支持</td>
<td>支持。客户端将信道设置为事务模式，只有当消息被RabbitMQ接收，事务才能提交成功，否则在捕获异常后进行回滚。使用事务会使得性能有所下降</td>
<td>支持</td>
<td>支持</td>
<td>不支持</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>分布式缓存</th>
<th>Redis</th>
<th>memcache</th>
<th>（jetcache）</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>本地缓存</th>
<th>Guava</th>
<th>Ehcache</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>搜索</th>
<th>solr</th>
<th>Elasticsearch</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>分布式数据框架</th>
<th>cobar</th>
<th>Mycat</th>
<th>tsharding</th>
<th>tddl</th>
<th>sharding-jdbc</th>
<th>dbsplit</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>分布式协调服务</th>
<th>zookeeper</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>分布式任务调度框架</th>
<th>Elastic-Job</th>
<th>xxl-job</th>
<th>TBSchedule</th>
<th><strong>Saturn</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>大数据</th>
<th>Hbase</th>
<th>Spark</th>
<th>Hadoop</th>
<th>Hive</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>监控</th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>度量指标收集</td>
<td>Metrics</td>
<td>spring-actuator（Micrometer）</td>
<td>jmxtrans</td>
<td></td>
</tr>
<tr>
<td>数据收集</td>
<td>Prometheus</td>
<td>Graphite</td>
<td>Influxdb</td>
<td>Zabbix</td>
</tr>
<tr>
<td>数据展示</td>
<td>grafana</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>分布式事务</th>
<th>Spring Cloud Alibaba Seata</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>消息总线</th>
<th>spring cloud bus</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>分布式事务</th>
<th>spring cloud seata</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://example.org/tags/%E6%9E%B6%E6%9E%84/">架构</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="http://example.org/">My New Hugo Site</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
